(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,a){e.exports="data:image/png;base64,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"},35:function(e,a,t){e.exports=t(68)},40:function(e,a,t){},42:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(31),c=t.n(o),l=(t(40),t(7)),s=t(8),i=t(10),u=t(9),m=t(11),p=(t(42),t(70)),d=t(72),h=t(71),g=t(6),f=t(13),v=function(e){return r.a.createElement("div",{className:"container"},e.children)},b=t(14),E=t.n(b),w=function(e){return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.children)},y=function(e){var a;return r.a.createElement("div",{className:"row",id:"pwd-container"},r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("section",{className:"login-form"},r.a.createElement("form",{method:"post",action:"#",role:"login",onSubmit:(a=e.loginHandler,function(e){e.preventDefault(),a()})},r.a.createElement("img",{src:E.a,className:"img-responsive",alt:""}),r.a.createElement("input",{type:"text",onChange:function(a){return e.updateUsernameHandler(a.target.value)},name:"email",autoComplete:"off",placeholder:"Name",required:!0,defaultValue:e.username,className:"form-control input-lg"}),r.a.createElement("input",{type:"password",onChange:function(a){return e.updatePasswordHandler(a.target.value)},className:"form-control input-lg",id:"password",defaultValue:e.password,placeholder:"Password",required:!0}),!1===e.loggedinUser&&r.a.createElement(w,null,"Username or password incorrect"),r.a.createElement("button",{type:"submit",name:"go",className:"btn btn-lg btn-primary btn-block"},"Sign in")),r.a.createElement("div",{className:"form-links"},r.a.createElement("a",{href:"#"},"www.starwars.com")))),r.a.createElement("div",{className:"col-md-4"}))},N=t(16),A=t.n(N),j=function(e,a){return function(t){return t({type:"loggedin_user",payload:void 0}),A.a.get("".concat("https://swapi.co/api/","people/?search=").concat(e)).then(function(t){if(1===t.data.count){var n=t.data.results[0];return n.name===e&&n.birth_year===a&&n}return!1}).then(function(e){t({type:"loggedin_user",payload:e})})}},k=function(e){return function(a){if(""!=e)return A.a.get("".concat("https://swapi.co/api/","planets/?search=").concat(e)).then(function(e){return e.data.count>0?e.data.results:[]}).then(function(e){a({type:"planet_search_result",payload:e})}).catch(function(e){a({type:"planet_search_result",payload:[]})});a({type:"planet_search_result",payload:void 0})}},S=t(21),O=t.n(S),I=function(e,a,t){var n=new Date;return n.setDate(n.getDate()+t),O.a.save(e,a,{path:"/",expires:n,secure:!1})},R=function(e){return O.a.load(e)},L=function(e){var a=parseInt(e);return a<2e5?16:a>2e5&&a<1e5?19:a>1e5&&a<25e5?22:a>25e5&&a<1e7?25:a>1e7&&a<1e8?28:a>1e8&a<1e9?31:34},P=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).updateUsernameHandler=function(e){t.setState({username:e})},t.updatePasswordHandler=function(e){t.setState({password:e})},t.loginHandler=function(){console.log(t.state),t.props.dispatch(j(t.state.username,t.state.password)).then(function(){t.props.loggedinUser&&t.loginSuccessAction()})},t.state={username:void 0,password:void 0},t.loginHandler=t.loginHandler.bind(Object(g.a)(Object(g.a)(t))),t.updateUsernameHandler=t.updateUsernameHandler.bind(Object(g.a)(Object(g.a)(t))),t.updatePasswordHandler=t.updatePasswordHandler.bind(Object(g.a)(Object(g.a)(t))),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){(R("Logged_in_user")||!1)&&this.props.history.push("/planet-search")}},{key:"loginSuccessAction",value:function(e){I("Logged_in_user",this.props.loggedinUser.name,1),this.props.history.push("/planet-search")}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(y,{username:this.state.username,password:this.state.password,loginHandler:this.loginHandler,updateUsernameHandler:this.updateUsernameHandler,updatePasswordHandler:this.updatePasswordHandler,loggedinUser:this.props.loggedinUser}))}}]),a}(r.a.Component);var C=Object(f.b)(function(e){return{loggedinUser:e.main.loggedinUser}},null)(P),T=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand"},r.a.createElement("img",{src:E.a,alt:"logo",width:"80"})),r.a.createElement("ul",{className:"navbar-nav mr-auto float-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#"},"Welcome ",e.userName)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:e.logout},"Logout"))))},U=function(e){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-md-10 col-lg-8"},r.a.createElement("form",{className:"card card-sm"},r.a.createElement("div",{className:"card-body row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("i",{className:"fas fa-search h4 text-body"})),r.a.createElement("div",{className:"col",style:{position:"relative"}},r.a.createElement("input",{className:"form-control form-control-lg form-control-borderless",type:"search",placeholder:"Search planets",onChange:function(a){return e.searchHandler(a.target.value)}})))))))},H=function(e){var a=e.name,t=e.value;return r.a.createElement("li",{className:"list-group-item"},a," ",r.a.createElement("span",{className:"badge badge-primary"},t))},J=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).handleClick=function(e){var a=t["clickedElement".concat(e)];t.toggle(a)},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"toggle",value:function(e){"none"===e.style.display?e.style.display="block":e.style.display="none"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron"},this.props.planets.map(function(a){return r.a.createElement("div",{className:"card",key:a.population,style:{marginBottom:"5px"},onClick:function(){return e.handleClick(a.population)}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title",style:{fontSize:L(a.population)}},a.name),r.a.createElement("div",{ref:function(t){e["clickedElement".concat(a.population)]=t},style:{display:"none"}},r.a.createElement("ul",{className:"list-group"},r.a.createElement(H,{name:"Population",value:a.population}),r.a.createElement(H,{name:"Rotation Period",value:a.rotation_period}),r.a.createElement(H,{name:"Orbital Period",value:a.orbital_period}),r.a.createElement(H,{name:"Diameter",value:a.diameter}),r.a.createElement(H,{name:"Climate",value:a.climate}),r.a.createElement(H,{name:"Gravity",value:a.gravity}),r.a.createElement(H,{name:"Terrain",value:a.terrain}),r.a.createElement(H,{name:"Surface Water",value:a.surface_water})))))}))}}]),a}(r.a.Component),x=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).searchPlanets=function(e){clearTimeout(t.searchInitiator),t.searchInitiator=setTimeout(function(){t.setState(function(e){++e.searchCounter}),t.props.dispatch(k(e))},100)},t.makeLogout=function(){I("Logged_in_user","",0),t.props.history.push("/")},t.state={searchCounter:0},t.searchPlanets=t.searchPlanets.bind(Object(g.a)(Object(g.a)(t))),t.searchInitiator=null,t.LoggedInUserName=R("Logged_in_user")||!1,setInterval(function(){t.setState({searchCounter:0})},1e4),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e;void 0!==this.props.loggedinUser&&!1!==this.props.loggedinUser||(this.LoggedInUserName?this.props.dispatch((e=this.LoggedInUserName,function(a){return A.a.get("".concat("https://swapi.co/api/","people/?search=").concat(e)).then(function(e){1===e.data.count?a({type:"loggedin_user",payload:e.data.results[0]}):a({type:"loggedin_user",payload:!1})})})):this.makeLogout())}},{key:"renderSearch",value:function(){return console.log("search",this.props),"Luke Skywalker"===this.LoggedInUserName?r.a.createElement(U,{searchHandler:this.searchPlanets}):this.state.searchCounter<=15?r.a.createElement(U,{searchHandler:this.searchPlanets}):r.a.createElement(w,null,"Can't search more than 15 times in a minute")}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(T,{logout:this.makeLogout,userName:this.props.loggedinUser?this.props.loggedinUser.name:null}),r.a.createElement("br",null),this.renderSearch(),this.props.planetSearchResult?r.a.createElement(J,{ref:this.showDetail,planets:this.props.planetSearchResult}):null)}}]),a}(r.a.Component);var G=Object(f.b)(function(e){return{loggedinUser:e.main.loggedinUser,planetSearchResult:e.main.planetSearchResult}},null)(x),V=function(e){function a(){return Object(l.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{basename:"/xebia_start_war_assessment"},r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/planet-search",component:G}),r.a.createElement(h.a,{path:"/",exact:!0,component:C})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=t(12),q=t(34),W=t(22),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"loggedin_user":return Object(W.a)({},e,{loggedinUser:a.payload});case"planet_search_result":return Object(W.a)({},e,{planetSearchResult:a.payload});default:return e}},K=Object(B.c)({main:M}),Z=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).state={hasError:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidCatch",value:function(e,a){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(w,null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),X=Object(B.a)(q.a)(B.d);c.a.render(r.a.createElement(f.a,{store:X(K)},r.a.createElement(Z,null,r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.76c34516.chunk.js.map