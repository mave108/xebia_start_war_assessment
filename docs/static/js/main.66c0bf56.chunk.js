(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t){e.exports="data:image/png;base64,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"},35:function(e,t,a){e.exports=a(68)},40:function(e,t,a){},42:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),l=a.n(o),c=(a(40),a(7)),s=a(8),i=a(10),u=a(9),m=a(11),p=(a(42),a(70)),d=a(72),h=a(71),g=a(6),f=a(13),v=function(e){return r.a.createElement("div",{className:"container"},e.children)},E=a(14),b=a.n(E),w=function(e){return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.children)},y=function(e){var t;return r.a.createElement("div",{className:"row",id:"pwd-container"},r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("section",{className:"login-form"},r.a.createElement("form",{method:"post",action:"#",role:"login",onSubmit:(t=e.loginHandler,function(e){e.preventDefault(),t()})},r.a.createElement("img",{src:b.a,className:"img-responsive",alt:""}),r.a.createElement("input",{type:"text",onChange:function(t){return e.updateUsernameHandler(t.target.value)},name:"email",autoComplete:"off",placeholder:"Name",required:!0,defaultValue:e.username,className:"form-control input-lg"}),r.a.createElement("input",{type:"password",onChange:function(t){return e.updatePasswordHandler(t.target.value)},className:"form-control input-lg",id:"password",defaultValue:e.password,placeholder:"Password",required:!0}),!1===e.loggedinUser&&r.a.createElement(w,null,"Username or password incorrect"),r.a.createElement("button",{type:"submit",name:"go",className:"btn btn-lg btn-primary btn-block"},"Sign in")),r.a.createElement("div",{className:"form-links"},r.a.createElement("a",{href:"#"},"www.starwars.com")))),r.a.createElement("div",{className:"col-md-4"}))},N=a(16),A=a.n(N),j=function(e,t){return function(a){return a({type:"loggedin_user",payload:void 0}),A.a.get("".concat("https://swapi.co/api/","people/?search=").concat(e)).then(function(a){if(1===a.data.count){var n=a.data.results[0];return n.name===e&&n.birth_year===t&&n}return!1}).then(function(e){a({type:"loggedin_user",payload:e})})}},k=function(e){return function(t){if(""!=e)return A.a.get("".concat("https://swapi.co/api/","planets/?search=").concat(e)).then(function(e){return e.data.count>0?e.data.results:[]}).then(function(e){t({type:"planet_search_result",payload:e})}).catch(function(e){t({type:"planet_search_result",payload:[]})});t({type:"planet_search_result",payload:void 0})}},S=a(21),O=a.n(S),I=function(e,t,a){var n=new Date;return n.setDate(n.getDate()+a),O.a.save(e,t,{path:"/",expires:n,secure:!1})},R=function(e){return O.a.load(e)},L=function(e){var t=parseInt(e);return t<2e5?16:t>2e5&&t<1e5?19:t>1e5&&t<25e5?22:t>25e5&&t<1e7?25:t>1e7&&t<1e8?28:t>1e8&t<1e9?31:34},P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).updateUsernameHandler=function(e){a.setState({username:e})},a.updatePasswordHandler=function(e){a.setState({password:e})},a.loginHandler=function(){console.log(a.state),a.props.dispatch(j(a.state.username,a.state.password)).then(function(){a.props.loggedinUser&&a.loginSuccessAction()})},a.state={username:void 0,password:void 0},a.loginHandler=a.loginHandler.bind(Object(g.a)(Object(g.a)(a))),a.updateUsernameHandler=a.updateUsernameHandler.bind(Object(g.a)(Object(g.a)(a))),a.updatePasswordHandler=a.updatePasswordHandler.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(R("Logged_in_user")||!1)&&this.props.history.push("/planet-search")}},{key:"loginSuccessAction",value:function(e){I("Logged_in_user",this.props.loggedinUser.name,1),this.props.history.push("/planet-search")}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(y,{username:this.state.username,password:this.state.password,loginHandler:this.loginHandler,updateUsernameHandler:this.updateUsernameHandler,updatePasswordHandler:this.updatePasswordHandler,loggedinUser:this.props.loggedinUser}))}}]),t}(r.a.Component);var C=Object(f.b)(function(e){return{loggedinUser:e.main.loggedinUser}},null)(P),T=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand"},r.a.createElement("img",{src:b.a,alt:"logo",width:"80"})),r.a.createElement("ul",{className:"navbar-nav mr-auto float-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#"},"Welcome ",e.userName)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:e.logout},"Logout"))))},U=function(e){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-md-10 col-lg-8"},r.a.createElement("form",{className:"card card-sm"},r.a.createElement("div",{className:"card-body row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("i",{className:"fas fa-search h4 text-body"})),r.a.createElement("div",{className:"col",style:{position:"relative"}},r.a.createElement("input",{className:"form-control form-control-lg form-control-borderless",type:"search",placeholder:"Search planets",onChange:function(t){return e.searchHandler(t.target.value)}})))))))},H=function(e){var t=e.name,a=e.value;return r.a.createElement("li",{className:"list-group-item"},t," ",r.a.createElement("span",{className:"badge badge-primary"},a))},J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){var t=a["clickedElement".concat(e)];a.toggle(t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(e){"none"===e.style.display?e.style.display="block":e.style.display="none"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron"},this.props.planets.map(function(t){return r.a.createElement("div",{className:"card",key:t.population,style:{marginBottom:"5px"},onClick:function(){return e.handleClick(t.population)}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title",style:{fontSize:L(t.population)}},t.name),r.a.createElement("div",{ref:function(a){e["clickedElement".concat(t.population)]=a},style:{display:"none"}},r.a.createElement("ul",{className:"list-group"},r.a.createElement(H,{name:"Population",value:t.population}),r.a.createElement(H,{name:"Rotation Period",value:t.rotation_period}),r.a.createElement(H,{name:"Orbital Period",value:t.orbital_period}),r.a.createElement(H,{name:"Diameter",value:t.diameter}),r.a.createElement(H,{name:"Climate",value:t.climate}),r.a.createElement(H,{name:"Gravity",value:t.gravity}),r.a.createElement(H,{name:"Terrain",value:t.terrain}),r.a.createElement(H,{name:"Surface Water",value:t.surface_water})))))}))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).searchPlanets=function(e){clearTimeout(a.searchInitiator),a.searchInitiator=setTimeout(function(){a.setState(function(e){++e.searchCounter}),a.props.dispatch(k(e))},100)},a.makeLogout=function(){I("Logged_in_user","",0),a.props.history.push("/login")},a.state={searchCounter:0},a.searchPlanets=a.searchPlanets.bind(Object(g.a)(Object(g.a)(a))),a.searchInitiator=null,a.LoggedInUserName=R("Logged_in_user")||!1,setInterval(function(){a.setState({searchCounter:0})},1e4),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e;void 0!==this.props.loggedinUser&&!1!==this.props.loggedinUser||(this.LoggedInUserName?this.props.dispatch((e=this.LoggedInUserName,function(t){return A.a.get("".concat("https://swapi.co/api/","people/?search=").concat(e)).then(function(e){1===e.data.count?t({type:"loggedin_user",payload:e.data.results[0]}):t({type:"loggedin_user",payload:!1})})})):this.makeLogout())}},{key:"renderSearch",value:function(){return console.log("search",this.props),"Luke Skywalker"===this.LoggedInUserName?r.a.createElement(U,{searchHandler:this.searchPlanets}):this.state.searchCounter<=15?r.a.createElement(U,{searchHandler:this.searchPlanets}):r.a.createElement(w,null,"Can't search more than 15 times in a minute")}},{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(T,{logout:this.makeLogout,userName:this.props.loggedinUser?this.props.loggedinUser.name:null}),r.a.createElement("br",null),this.renderSearch(),this.props.planetSearchResult?r.a.createElement(J,{ref:this.showDetail,planets:this.props.planetSearchResult}):null)}}]),t}(r.a.Component);var x=Object(f.b)(function(e){return{loggedinUser:e.main.loggedinUser,planetSearchResult:e.main.planetSearchResult}},null)(G),V=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/login",component:C}),r.a.createElement(h.a,{path:"/planet-search",component:x})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(12),q=a(34),W=a(22),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loggedin_user":return Object(W.a)({},e,{loggedinUser:t.payload});case"planet_search_result":return Object(W.a)({},e,{planetSearchResult:t.payload});default:return e}},K=Object(B.c)({main:M}),Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(w,null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),X=Object(B.a)(q.a)(B.d);l.a.render(r.a.createElement(f.a,{store:X(K)},r.a.createElement(Z,null,r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.66c0bf56.chunk.js.map